<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popzy.js</title>

    <!-- CSS Style -->
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lbachannel/popzy@v1.0.1/popzy.min.js">

    <!-- JavaScript -->
    <script src="./assets/js/script.js"></script>
    
    <!-- CDN Highlight -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header id="header" class="header"></header>
    <script>
        load('#header', './templates/header.html');
    </script>
    <!-- End Header -->

    <!-- Container -->
    <div class="container content">
        <h2 id="try-it-out" class="title">
            <span>Try</span> It Out
        </h2>
        <p>
            Popzy is a lightweight <strong>modal library</strong> built with
            pure JavaScript. (<a
                href="https://github.com/lbachannel/popzy"
                >Source code available on GitHub</a
            >)
        </p>

        <ul>
            <li>No dependencies</li>
            <li>Fully customizable with SCSS</li>
            <li>Supports CSS transitions</li>
            <li>Simple and intuitive API</li>
            <li>No extra files needed</li>
            <li>Optimized for user experience</li>
        </ul>

        <p>Here are some examples of how to use Popzy:</p>

        <button class="btn btn--primary btn-demo js-popzy-modal-1">
            Basic Modal
        </button>
        <button class="btn btn--secondary btn-demo js-popzy-modal-2">
            Modal with Buttons
        </button>
        <button class="btn btn--secondary btn-demo js-popzy-modal-3">
            Large Content Modal
        </button>
        <button class="btn btn--secondary btn-demo js-popzy-modal-4">
            Footer-Only Close Modal
        </button>
        <button class="btn btn--secondary btn-demo js-popzy-modal-5">
            Persistent Modal (Stays in DOM)
        </button>
        <button class="btn btn--secondary btn-demo js-popzy-modal-6">
            Multiple Modals
        </button>
        <button class="btn btn--secondary btn-demo js-popzy-modal-7">
            YouTube Embed Modal
        </button>

        <h2 id="installation" class="title">
            <span>Ins</span>tallation
        </h2>

        <table class="methods">
            <thead>
                <tr>
                    <th>Method</th>
                    <th class="w60">Steps</th>
                </tr>
            </thead>
            <tr>
                <td>Direct Download</td>
                <td>
                    <a
                        href="https://github.com/lbachannel/popzy/archive/refs/heads/main.zip"
                        title="Download Popzy"
                    >
                        Download ZIP
                    </a>
                    <p>
                        Simply extract the ZIP file and use the
                        <code class="language-javascript">popzy.min.js</code> and
                        <code class="language-javascript">popzy.min.css</code> files in your project.
                    </p>
                </td>
            </tr>
        </table>

        <p>
            Popzy provides a small CSS file that you can include directly
            via a CDN link. This makes it easy to integrate into your
            project and customize as needed.
        </p>

        <p>Include the Popzy JavaScript file in your project:</p>

        <pre
            class="language-javascript"
        ><code>&lt;script src=&quot;https://cdn.jsdelivr.net/gh/lbachannel/popzy/popzy.min.js&quot;&gt;&lt;/script&gt;</code></pre>

        <p>Optionally, include the Popzy CSS file for default styling:</p>

        <pre class="language-javascript"><code>&lt;link
    rel=&quot;stylesheet&quot;
    href=&quot;https://cdn.jsdelivr.net/gh/lbachannel/popzy/popzy.min.css&quot;
&gt;</code></pre>

        <p>
            You can explore the list of CSS classes used by Popzy in the
            <a href="#styling">Styling</a> section to easily customize them
            as needed.
        </p>

        <h2 id="usage" class="title">
            <span>Usa</span>ge
        </h2>

        <pre class="language-javascript"><code>// Initialize a new modal
const modal = new Popzy({
    content: '&lt;h1&gt;This is content&lt;/h1&gt;',
    // templateId: 'my-modal-template',
    footer: true,
    destroyOnClose: false,
    closeMethods: ['overlay', 'button', 'escape'],
    cssClass: ['custom-class-1', 'custom-class-2'],
    onOpen: function() {
        console.log('Modal opened');
    },
    onClose: function() {
        console.log('Modal closed');
    },
});

// Set modal content
modal.setContent('&lt;h1&gt;This is new content&lt;/h1&gt;');

// Add footer buttons
modal.addFooterBtn('Cancel', 'btn btn--default', function(e) {
    modal.close();
});

modal.addFooterBtn('Confirm', 'btn btn--primary', function(e) {
    modal.close();
});

// Open the modal
modal.open();

// Close the modal
modal.close();</code></pre>

        <p>
            If you use <code class="language-javascript">templateId</code>, ensure that a
            <code class="language-javascript">&lt;template&gt;</code> element with the corresponding
            <code class="language-javascript">id</code> exists in your HTML. Below is an example:
        </p>

        <pre class="language-javascript">
<code class="language-html">&lt;template id="my-modal-template"&gt;
    &lt;div&gt;
        &lt;h1&gt;This is modal content&lt;/h1&gt;
        &lt;p&gt;You can add any HTML here.&lt;/p&gt;
    &lt;/div&gt;
&lt;/template&gt;
</code></pre>
        <p>
            <strong>Note:</strong> When using <code class="language-javascript">templateId</code>, do
            not provide <code class="language-javascript">content</code>. If both are specified,
            <code class="language-javascript">content</code> will take precedence, and
            <code class="language-javascript">templateId</code> will be ignored.
        </p>

        <h2 id="options" class="title"><span>Opt</span>ions</h2>

        <table class="methods">
            <thead>
                <tr>
                    <th>Option</th>
                    <th>Type</th>
                    <th class="w60">Description</th>
                </tr>
            </thead>
            <tr>
                <td>content, templateId</td>
                <td>string</td>
                <td>
                    One of <code class="language-javascript">content</code> or
                    <code class="language-javascript">templateId</code> is required to set the modal
                    content. <code class="language-javascript">content</code> accepts an HTML string,
                    while <code class="language-javascript">templateId</code> specifies the ID of a
                    template element. If both are provided,
                    <code class="language-javascript">content</code> will take precedence.
                </td>
            </tr>
            <tr>
                <td>cssClass</td>
                <td>array</td>
                <td>
                    Custom CSS classes applied to the modal container
                    (default: <code class="language-javascript">[]</code>)
                </td>
            </tr>
            <tr>
                <td>footer</td>
                <td>boolean</td>
                <td>
                    Shows a footer in the modal (default:
                    <code class="language-javascript">false</code>)
                </td>
            </tr>
            <tr>
                <td>destroyOnClose</td>
                <td>boolean</td>
                <td>
                    Decides whether the modal is removed from the DOM upon
                    closing (default: <code class="language-javascript">true</code>)
                </td>
            </tr>
            <tr>
                <td>closeMethods</td>
                <td>array</td>
                <td>
                    Defines methods to close the modal (default:
                    <code class="language-javascript">['overlay', 'button', 'escape']</code>)
                </td>
            </tr>
            <tr>
                <td>enableScrollLock</td>
                <td>boolean</td>
                <td>
                    Enables or disables scroll locking when the modal is
                    open. When set to
                    <code class="language-javascript">true</code>, it prevents scrolling on the target
                    element specified by <code class="language-javascript">scrollLockTarget</code>.
                    Default: <code class="language-javascript">true</code>.
                </td>
            </tr>
            <tr>
                <td>scrollLockTarget</td>
                <td>function</td>
                <td>
                    A callback that returns the element to apply scroll
                    locking on. By default, it locks scrolling on
                    <code class="language-javascript">document.body</code>.
                </td>
            </tr>
            <tr>
                <td>onOpen</td>
                <td>function</td>
                <td>
                    Callback function executed when the modal opens (after
                    transition ends) (default:
                    <code class="language-javascript">undefined</code>)
                </td>
            </tr>
            <tr>
                <td>onClose</td>
                <td>function</td>
                <td>
                    Callback function executed when the modal closes
                    (default: <code class="language-javascript">undefined</code>)
                </td>
            </tr>
        </table>

        <h2 id="styling" class="title"><span>Sty</span>ling</h2>
        <p>
            Popzy styles are defined in CSS. You can fully customize it to
            meet your design requirements.
        </p>

        <table class="methods">
            <thead>
                <tr>
                    <th>Class Name</th>
                    <th style="width: 70%">Description/Role</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code class="language-javascript">.popzy</code></td>
                    <td>
                        Styles the backdrop overlay for the modal. Handles
                        positioning, centering the modal, and applying a
                        semi-transparent background.
                    </td>
                </tr>
                <tr>
                    <td><code class="language-javascript">.popzy--show</code></td>
                    <td>
                        Applied when the modal is visible. Controls the
                        visibility and opacity of the backdrop.
                    </td>
                </tr>
                <tr>
                    <td><code class="language-javascript">.popzy__container</code></td>
                    <td>
                        Styles the modal container, including its size,
                        padding, border-radius, and transform animations for
                        scaling in/out.
                    </td>
                </tr>
                <tr>
                    <td><code class="language-javascript">.popzy__close</code></td>
                    <td>
                        Styles the close button inside the modal, including
                        its size, position, and hover effects.
                    </td>
                </tr>
                <tr>
                    <td><code class="language-javascript">.popzy__content</code></td>
                    <td>
                        Handles the modal's main content area, including
                        scrollable behavior with a maximum height.
                    </td>
                </tr>
                <tr>
                    <td><code class="language-javascript">.popzy__footer</code></td>
                    <td>
                        Styles the modal footer, aligning buttons to the
                        right and adding spacing between them.
                    </td>
                </tr>
                <tr>
                    <td><code class="language-javascript">.popzy--no-scroll</code></td>
                    <td>
                        Disables scrolling on the target element specified
                        by
                        <code class="language-javascript">scrollLockTarget</code> when the modal is
                        open.
                    </td>
                </tr>
            </tbody>
        </table>

        <p>
            For more details, you can view the full CSS file directly here:
            <a
                href="https://github.com/lbachannel/popzy/blob/main/src/popzy.css"
                target="_blank"
                >popzy.css</a
            >.
        </p>

        <h2 id="api" class="title"><span>API</span> (Application Programming Interface)</h2>

        <table class="methods">
            <thead>
                <tr>
                    <th>Method</th>
                    <th class="w60">Description</th>
                </tr>
            </thead>
            <tr>
                <td>open()</td>
                <td>
                    Opens the modal and triggers the
                    <code class="language-javascript">onOpen</code> callback.
                </td>
            </tr>
            <tr>
                <td>close()</td>
                <td>
                    Closes the modal and triggers the
                    <code class="language-javascript">onClose</code> callback. If
                    <code class="language-javascript">close(true)</code> is called, it behaves the same
                    as <code class="language-javascript">destroy()</code>, removing the modal from the
                    DOM.
                </td>
            </tr>
            <tr>
                <td>setContent(content)</td>
                <td>Updates the modal content.</td>
            </tr>
            <tr>
                <td>setFooterContent(content)</td>
                <td>Updates the footer content.</td>
            </tr>
            <tr>
                <td>addFooterBtn(label, cssClass, callback)</td>
                <td>
                    Adds a button to the footer with a callback function.
                </td>
            </tr>
            <tr>
                <td>destroy()</td>
                <td>
                    Completely removes the modal elements from the DOM and
                    unbinds all associated events.
                </td>
            </tr>
        </table>

        <footer id="footer" class="footer"></footer>
        <script>
            load('#footer', './templates/footer.html');
        </script>
        
    </div>
    <!-- End Container -->

    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/lbachannel/popzy@v1.0.1/popzy.min.js"></script>
    <script>
        // Basic modal
        const basicModalBtn = document.querySelector('.js-popzy-modal-1');
        const basicModal = new Popzy({
            content: `
                <h1>Basic modal</h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. 
                    Soluta nulla, perferendis consequuntur earum veniam dolorum tempora 
                    quas similique. Modi quibusdam fuga fugit culpa voluptatem dicta inventore 
                    laudantium id quae quas.
                </p>
            `
        });

        basicModalBtn.onclick = function() {
            basicModal.open();
        }
    </script>
</body>
</html>